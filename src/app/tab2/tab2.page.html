<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title> Что вы поели? </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Что вы поели?</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-searchbar
    animated="true"
    placeholder="Введите название продукта"
    show-clear-button="always"
    clear-icon="trash-bin"
    show-cancel-button="focus"
    (ionInput)="search($event.target.value)"
    #searchBar
  ></ion-searchbar>

  <ion-list>
    <ion-item
      *ngFor="let item of items$ | async"
      [detail]="true"
      (click)="openModal(item)"
    >
      <ion-label class="ion-text-wrap">
        <h2>{{item.name}}</h2>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-card *ngFor="let currentItem of currentItems" color="secondary">
    <ion-card-header>
      <ion-card-subtitle>Вы добавили</ion-card-subtitle>

      <ion-card-title
        >{{currentItem.name}} - {{currentItem.current_serving_size_g}}
        гр</ion-card-title
      >
    </ion-card-header>

    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col></ion-col>
          <ion-col>На порцию ({{currentItem.serving_size_g}} гр)</ion-col>
          <ion-col>На {{currentItem.current_serving_size_g}} гр</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Калорийность</ion-col>
          <ion-col>{{currentItem.calories}}</ion-col>
          <ion-col>{{currentItem.current_calories}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Белки</ion-col>
          <ion-col>{{currentItem.protein_g}}</ion-col>
          <ion-col>{{currentItem.current_protein_g}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Жиры</ion-col>
          <ion-col>{{currentItem.fat_total_g}}</ion-col>
          <ion-col>{{currentItem.current_fat_total_g}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Углеводы</ion-col>
          <ion-col>{{currentItem.carbohydrates_total_g}}</ion-col>
          <ion-col>{{currentItem.current_carbohydrates_total_g}}</ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Сахар</ion-col>
          <ion-col>{{currentItem.sugar_g}}</ion-col>
          <ion-col>{{currentItem.current_sugar_g}}</ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <ion-fab vertical="bottom" horizontal="center" slot="fixed">
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
